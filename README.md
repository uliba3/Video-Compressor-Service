# Video-Compressor-Service
ステージ 3（任意・上級者）
ステージ 3は、より高度な機能や特定の要件を実装する際に必要な作業が含まれます。


デスクトップアプリケーションの作成
推奨される言語は JavaScript または TypeScript で、Electron.js を使用します。Electron.js は Node.js に基づいており、JavaScript コードはブラウザではなくオペレーティングシステム上で実行されます。


このデスクトップアプリケーションは、ユーザーが動画を簡単に圧縮・変換できるように設計されます。アプリにはダッシュボードが備わっており、ユーザーは動画をアップロードして、圧縮するか変換するかを選べます。圧縮を選択した場合、ユーザーは設定を指定し、アップロードする動画ファイルを選んで圧縮を開始します。変換を選んだ場合は、専用の GUI が表示され、ユーザーは動画をアップロードし、出力形式を選んで変換を始めます。変換が進行中のときには、その進捗状況を確認できます。


メッセージの暗号化
暗号化方式として、RSA に似た手法を使用して、サーバとクライアント間で送受信されるすべてのメッセージを保護します。クライアントとサーバは、送受信するすべてのメッセージを以下の暗号化方式で処理します。


クライアントの手順：

クライアントはローカル環境で秘密鍵と公開鍵を生成します。
サーバへの接続要求を行う際に、生成した公開鍵をサーバに送信します。
サーバはこの公開鍵を保存し、この鍵を用いてメッセージを暗号化した後でクライアントに送信します。
メッセージに含まれるトークンを復号化する唯一の方法は、正確な秘密鍵を使用することです。クライアントはローカルに保存された秘密鍵で復号化を行います。
逆のプロセス：

すべてのクライアントは、初めにサーバからその公開鍵を取得します。
クライアントがサーバにメッセージを送る際は、このサーバの公開鍵を使用してメッセージを暗号化する必要があります。
これらがメッセージ暗号化における主要な要件と手順です。


拡張性
拡張性について実装する必要はありませんが、以下の非機能要件について考慮してみてください。


動画システムは、少なくとも毎秒 10,000 パケットの送信をサポートする必要があります。


Netflix、Amazon Video、YouTube などの大規模なサービスと同じ規模になった場合、どうなるでしょうか。これらの動画ダウンロードやストリーミングサービスには数億、あるいは数十億人のユーザーがいます。ピーク時には 4 億人のアクティブユーザーが 2 時間にわたって平均 2GB の映画を視聴またはダウンロードすると仮定します。この場合、サービスが 1 秒あたりに処理する必要があるパケット数を計算してみてください。


ピーク時にこれだけのユーザー数をサポートする場合、動画編集の処理をどのように対応するか考えてみましょう。


ロードバランシング

ロードバランサーが存在し、それぞれが同じタスクを実行できる n 台のサーバがあるとします。ロードバランサーがネットワークトラフィックを複数のサーバに効率よく振り分ける場合、1 台のサーバが 1 秒間に 10k パケットを処理できると仮定すると、1 秒間に処理されるソケットの総数はどれくらいになるでしょうか？


同時処理

単一のコアで毎秒 10k のソケットを処理できる場合、16 個のコアでプログラムを実行すると処理能力はどう変わるでしょうか？


水平スケーリング

たとえば、ユーザーが 10 年以上もの長期間ファイルを保存できるように、無制限のストレージが必要だとします。1 台のハードドライブには保存できるデータ量に上限がありますが、ハードディスクを何台でも追加することができるでしょうか？例えば、10TB のハードディスクを 2 万台追加すると何が起こるか考えてみましょう。これは一つの解決策ですが、何千台もの異なるハードディスクにデータを安全に保存するには、自動化と品質管理も必要です。10 年という長い期間で考えると、ハードディスクが突然故障する可能性もあります。


分散プログラミング

特定のタスクが小さなサブタスクに分割され、それが複数のコアを持つ複数のマシンに分散される場合、1 秒間に処理できるソケットの総量はどれくらいになるでしょうか？また、動画処理のワークロードを維持するためにはどのような処理能力が必要でしょうか？